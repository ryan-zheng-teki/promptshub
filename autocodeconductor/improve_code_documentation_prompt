Version 1: This version does not contain steps, but it uses "think step by step, constraints, output format"

As a top software engineer who creates maintainable and understandable codes. You have been assigned the task of improving the given code documentation from `>Source Code<` section based on the best practices of the programming language of the code.

The source code can contain multiple files. Each file starts with a file path followed by the content of the source code file. For example:

```
File Path: src/.../file1
class ClassEntity(CodeEntity):
    """
    Represents a class in the code that can be converted to vector representations.
    
    Attributes:
    ...
    """

FilePath: src/.../file2
from abc import ABC, abstractmethod

class BaseStorage(ABC):
    @abstractmethod
    def store_embedding(self, key: str, embedding):
        pass

    @abstractmethod
    def search_embedding(self, query: str):
        pass
```


Articulate your understanding of the given code from the `>Source Code<` first. Then present the best practice
of the programming language of the source code. Then give your detailed explanation of what needs to be improved. At last, present the enhanced version of the code in the code block for each file.

>Source Code<
File Path: src/source_code_tree/code_entities/base_entities.py
"""
This module contains classes used to represent code entities that can be converted to vector representations.

Classes:
    - CodeEntity: Represents a generic code entity.
"""

from abc import ABC, abstractmethod


class CodeEntity(ABC):
    """
    Represents a generic code entity.
    
    Attributes:
        docstring (str): The documentation string for the code entity.
    
    Methods:
        __init__(self, docstring: str): Initializes a CodeEntity with the provided docstring.
    """
    
    def __init__(self, docstring: str):
        """
        Initialize a generic code entity.
        
        :param docstring: Documentation string for the entity.
        :type docstring: str
        """
        self.docstring = docstring

    @abstractmethod
    def to_representation(self):
        """
        Convert the class entity to a vector representation.
                
        :return: A vector representation of the class entity.
        :rtype: list, tuple, or any vector-like structure.
        """


Version 2: This version contains steps for this task (GPT3.5 works as well for this)

You are a top software engineer who creates maintainable and understandable codes. You have been assigned the task of improving the given code documentation from `>Source Code<` section based on the best practices of the programming language of the code.

Please follow the steps below. Each step has a title, and an optional description of the step.

1. Analyze the Code:
   - Begin by analyzing the code provided in the ">Source Code<" section to understand its purpose and functionality.
   - Identify the programming language in which the code is written.

2. Share Documentation Best Practices:
   - Familiarize yourself with the best practices for code documentation in the programming language you identified. 
   - Add file level code documentation as well.

3. Enhance Code Documentation:
   - Modify the code by adding appropriate documentation based on the best practices. Start with a file-level documentation comment at the beginning of the file. Ensure that your documentation enhances readability and understanding for other developers.

4. Output the Enhanced Code:
   - Present your modified code with added documentation. Format it within a code block for clarity.

This approach gives you a set of guidelines that follows a heuristic, step-by-step process, emphasizing reasoning and thought process over a more rigid structure.

>Source Code<
file path: src/semantic_code/storage/base_storage.py
from abc import ABC, abstractmethod

class BaseStorage(ABC):
    @abstractmethod
    def store(self, key: str, embedding):
        pass

    @abstractmethod
    def retrieve(self, query: str):
        pass


Version 3: Just think step by step. Nothing else. (GPT3.5 works badly, GPT4 works great)

You are a top python software engineer who creates maintainable and understandable codes. You are given a task located between '$start$' and '$end$' tokens in the `[Task]` section.

[Criterias]
- Follow python PEP8 best practices. Don't forget add or update file-level docstring
- Include complete updated code in the output. Do not use placeholders.

Think step by step progressively and reason comprehensively to address the task.


[Task]
$start$
I have a python file which is not following python docstring best practices. Please improve it.
$start$"""
source_code_tree_generator.py: A Python module that provides the SourceCodeTreeGenerator class.

The SourceCodeTreeGenerator class is responsible for generating a tree structure for a specified folder.
It uses the DirectoryTraversal and TreeFormatter classes to perform its tasks.

It now uses the FileSystemAccessFactory to automatically select the correct FileSystemAccess subclass
based on the operating system.

Features:
- Generate a tree structure from a given folder path.
- Format the tree structure for user-friendly display.

Usage:
- from source_code_tree_generator import SourceCodeTreeGenerator
- ctg = SourceCodeTreeGenerator()
- tree = ctg.generate_tree("path/to/folder")
- print(tree)
"""

from src.source_code_tree.directory_traversal import DirectoryTraversal
from src.source_code_tree.file_system_access import FileSystemAccessFactory
from src.source_code_tree.tree_formatter import TreeFormatter


class SourceCodeTreeGenerator:
    # Constructor creates FileSystemAccess instance using the factory
    def __init__(self):
        file_system_access = FileSystemAccessFactory.create()
        self.directory_traversal = DirectoryTraversal(file_system_access)
        self.tree_formatter = TreeFormatter()

    # Generate a tree structure for a specified folder
    def generate_tree(self, folder_path: str) -> str:
        tree_structure = self.directory_traversal.traverse(folder_path, level=0)
        formatted_tree = self.tree_formatter.format_tree(tree_structure)
        return formatted_tree
$end$